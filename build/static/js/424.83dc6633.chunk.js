"use strict";(self.webpackChunkmovie_night=self.webpackChunkmovie_night||[]).push([[424],{424:function(e,t,n){n.r(t),n.d(t,{default:function(){return l}});var i=n(885),c=n(501),s=n(871),r=n(791),a=n(160),u=n(390),o=(n(267),n(184));function l(e){var t=(0,s.s0)(),n=(0,s.UO)(),l=(0,c.lr)(),h=(0,i.Z)(l,2),d=h[0],f=h[1],v=(0,r.useState)(null),m=(0,i.Z)(v,2),j=m[0],b=m[1],x=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=new AbortController,t=d.get("query");if(t)return u.Z.fetchMovies("search/movie",e,t).then((function(e){b(e.results)})),function(){return e.abort()}}),[d.get("query")]);return(0,o.jsxs)(a.Z,{children:[(0,o.jsx)("div",{className:" to-left",children:(0,o.jsx)("button",{onClick:function(){t(-1)},className:"back-button",children:"Go back"})}),(0,o.jsxs)("div",{className:"search-section",children:[(0,o.jsx)("h1",{children:"Start searching"}),(0,o.jsxs)("div",{children:[!n.movieId&&(0,o.jsxs)("div",{children:[(0,o.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=x.current.value;f(t?{query:t}:{})},value:d.get("query")||"",children:[(0,o.jsx)("input",{type:"text",ref:x,className:"search-input"}),(0,o.jsx)("button",{type:"submit",className:"back-button",children:"Search"})]}),(0,o.jsx)("div",{className:"search-list-div",children:(0,o.jsx)("ul",{className:"list",children:j&&j.map((function(e){return(0,o.jsx)("li",{children:(0,o.jsx)(c.rU,{to:"/movie/"+e.id,children:e.title})},e.id)}))})})]}),n.movieId&&(0,o.jsx)(s.j3,{})]})]})]})}},390:function(e,t){var n="b8d87910aac56b00d09e566d900045a1",i={fetchMovies:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return""===i?fetch("https://api.themoviedb.org/3/".concat(e,"?api_key=").concat(n),{signal:t.signal}).then((function(e){return e.json()})):fetch("https://api.themoviedb.org/3/".concat(e,"?api_key=").concat(n,"&query=").concat(i),{signal:t.signal}).then((function(e){return e.json()}))}};t.Z=i},267:function(){}}]);
//# sourceMappingURL=424.83dc6633.chunk.js.map