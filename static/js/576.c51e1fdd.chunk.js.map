{"version":3,"file":"static/js/576.c51e1fdd.chunk.js","mappings":"8NAMe,SAASA,IACtB,OAA8BC,EAAAA,EAAAA,UAAS,MAAvC,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA6BF,EAAAA,EAAAA,UAAS,IAAtC,eAAOG,EAAP,KAAeC,EAAf,KAEIC,GAASC,EAAAA,EAAAA,MAgBb,OAdAC,EAAAA,EAAAA,YAAU,WACR,IAAIC,EAAkB,IAAIC,gBAU1B,OATAC,EAAAA,EAAAA,YAAA,gBACwBL,EAAOM,SAAWH,GACvCI,MAAK,SAACC,GACLX,EAASW,GACTT,EACES,EAASV,OAAOW,KAAI,SAACC,GAAD,OAAW,uBAAqBA,EAAMC,MAAnBD,EAAMC,KAAzB,IAEvB,IAEI,kBAAMR,EAAgBS,OAAtB,CACR,GAAE,IAGDhB,IACE,4BACE,8BACE,iBAAKiB,UAAU,iBAAf,WACE,gBACEA,UAAU,iBACVC,IACE,uCAAyClB,EAAUmB,eAGvD,iBAAKF,UAAU,aAAf,WACE,wBAAKjB,EAAUoB,SACf,wCAAyC,GAAzBpB,EAAUqB,aAA1B,QACA,sCACA,uBAAIrB,EAAUsB,YACd,oCACA,eAAIL,UAAU,kBAAd,SAAiCf,aAIvC,SAAC,KAAD,MAIP,C,oBCnDD,IAAMqB,EAAM,mCAgBNd,EAAM,CACVe,YAfkB,SAACC,EAAQlB,GAAiC,IAAhBmB,EAAe,uDAAP,GACpD,MAAiB,KAAVA,EACHC,MAAM,gCAAD,OAAiCF,EAAjC,oBAAmDF,GAAO,CAC7DK,OAAQrB,EAAgBqB,SACvBjB,MAAK,SAAAC,GACN,OAAOA,EAASiB,MACjB,IACDF,MAAM,gCAAD,OAAiCF,EAAjC,oBAAmDF,EAAnD,kBAAgEG,GAAS,CAC5EE,OAAQrB,EAAgBqB,SACvBjB,MAAK,SAAAC,GACN,OAAOA,EAASiB,MACjB,GACN,GAMD,K","sources":["components/MovieDetailsPage/MovieDetailsPage.js","services/api.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Outlet, useParams, Link } from \"react-router-dom\";\nimport ErrorBoundary from \"../ErrorBoundary\";\nimport api from \"../../services/api\";\nimport \"../Common.css\";\n\nexport default function MovieDetailsPage() {\n  const [movieInfo, setMovie] = useState(null);\n  const [genres, saveGenres] = useState([]);\n\n  let params = useParams();\n\n  useEffect(() => {\n    let abortController = new AbortController();\n    api\n      .fetchMovies(`movie/${params.movieId}`, abortController)\n      .then((response) => {\n        setMovie(response);\n        saveGenres(\n          response.genres.map((genre) => <p key={genre.name}>{genre.name}</p>)\n        );\n      });\n\n    return () => abortController.abort();\n  }, []);\n\n  return (\n    movieInfo && (\n      <div>\n        <section>\n          <div className=\"movie-info-div\">\n            <img\n              className=\"movie-info-img\"\n              src={\n                \"https://image.tmdb.org/t/p/original/\" + movieInfo.poster_path\n              }\n            ></img>\n            <div className=\"movie-info\">\n              <h2>{movieInfo.title}</h2>\n              <p>User score: {movieInfo.vote_average * 10}%</p>\n              <h3>Overview</h3>\n              <p>{movieInfo.overview}</p>\n              <h3>Genres</h3>\n              <ul className=\"movie-info-list\">{genres}</ul>\n            </div>\n          </div>\n        </section>\n        <Outlet />\n      </div>\n    )\n  );\n}\n","const KEY = 'b8d87910aac56b00d09e566d900045a1';\n\nconst fetchMovies = (ending, abortController, query = '') => {\n  return query === ''\n    ? fetch(`https://api.themoviedb.org/3/${ending}?api_key=${KEY}`, {\n        signal: abortController.signal,\n      }).then(response => {\n        return response.json();\n      })\n    : fetch(`https://api.themoviedb.org/3/${ending}?api_key=${KEY}&query=${query}`, {\n        signal: abortController.signal,\n      }).then(response => {\n        return response.json();\n      });\n};\n\nconst api = {\n  fetchMovies,\n};\n\nexport default api;\n"],"names":["MovieDetailsPage","useState","movieInfo","setMovie","genres","saveGenres","params","useParams","useEffect","abortController","AbortController","api","movieId","then","response","map","genre","name","abort","className","src","poster_path","title","vote_average","overview","KEY","fetchMovies","ending","query","fetch","signal","json"],"sourceRoot":""}